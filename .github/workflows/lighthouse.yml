name: Lighthouse Scheduled
on:
    pull_request:
        types:
            - opened
            - reopened
            - synchronize
    schedule:
      # * is a special character in YAML so you have to quote this string
        - cron:  '55 10 26 * *'
    workflow_dispatch:
jobs:
    lighthouse:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v3
          - name: Audit URLs using Lighthouse
            uses: treosh/lighthouse-ci-action@v10
            with:
              urls: |
                https://www.visitscotland.com/
              uploadArtifacts: true

          - name: Download artifact
            uses: actions/download-artifact@v3
            with:
              name: lighthouse-results
    
          - name: Display structure of downloaded files
            run: ls -R
